<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Index</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/styleindex.css">
</head>

<body>
    <!-- Navbar Placeholder -->
    <div id="navbar-placeholder"></div>

    <!-- Main Content -->
    <div class="container mt-5 wider-container">
        <div class="row">
            <div class="col-md-1">
                <!-- Left Sidebar -->
            </div>
            <div class="col-md-10">
                <!-- Plus Icon -->
                <div class="d-flex justify-content-end mb-3">
                    <a href="/new_event.html" class="btn btn-success"><i class="bi bi-plus"></i></a>
                </div>
                <!-- Event Cards -->
                <div class="card mb-4">
                    <div class="row g-0">
                        <div class="col-md-6">
                            <img src="https://via.placeholder.com/300x200" class="img-fluid rounded-start" alt="Evento 1">
                        </div>
                        <div class="col-md-6">
                            <div class="card-body">
                                <h5 class="card-title">Evento 1</h5>
                                <p class="card-text">Descripción del evento 1.</p>
                                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#eventModal1">Ver Más</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card mb-4">
                    <div class="row g-0">
                        <div class="col-md-6">
                            <img src="https://via.placeholder.com/300x200" class="img-fluid rounded-start" alt="Evento 2">
                        </div>
                        <div class="col-md-6">
                            <div class="card-body">
                                <h5 class="card-title">Evento 2</h5>
                                <p class="card-text">Descripción del evento 2.</p>
                                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#eventModal2">Ver Más</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- More event cards... -->
            </div>
            <div class="col-md-1">
                <!-- Right Sidebar -->
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="eventModal1" tabindex="-1" aria-labelledby="eventModalLabel1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="eventModalLabel1">Detalles del Evento 1</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <img src="https://via.placeholder.com/300x200" class="img-fluid rounded mb-3" alt="Evento 1">
                    <p>Información detallada del evento 1.</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <button class="btn btn-outline-danger"><i class="bi bi-heart-fill"></i> Me gusta</button>
                        <button class="btn btn-success">Asistir</button>
                        <button class="btn btn-info" onclick="copiarEnlace('https://mi-sitio.com/evento1')"><i class="bi bi-share"></i> Compartir</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="eventModal2" tabindex="-1" aria-labelledby="eventModalLabel2" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="eventModalLabel2">Detalles del Evento 2</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <img src="https://via.placeholder.com/300x200" class="img-fluid rounded mb-3" alt="Evento 2">
                    <p>Información detallada del evento 2.</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <button class="btn btn-outline-danger"><i class="bi bi-heart-fill"></i> Me gusta</button>
                        <button class="btn btn-success">Asistir</button>
                        <button class="btn btn-info" onclick="copiarEnlace('https://mi-sitio.com/evento2')"><i class="bi bi-share"></i> Compartir</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function copiarEnlace(enlace) {
            navigator.clipboard.writeText(enlace).then(() => {
                alert('Enlace copiado al portapapeles');
            }).catch(err => {
                console.error('Error al copiar el enlace: ', err);
            });
        }

        // Simular una variable para el estado de la sesión
        const isLoggedIn = true;  // Cambia esto a false para probar la vista de invitado

        // Función para cargar el contenido de un archivo HTML
        async function loadHTML(filePath, elementId) {
            const response = await fetch(filePath);
            const content = await response.text();
            document.getElementById(elementId).innerHTML = content;
        }

        // Cargar el navbar correcto basado en el estado de la sesión
        if (isLoggedIn) {
            loadHTML('navbar_auth.html', 'navbar-placeholder');
        } else {
            loadHTML('navbar_guest.html', 'navbar-placeholder');
        }
    </script>
</body>

</html>
